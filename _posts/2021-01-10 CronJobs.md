---
layout: post
title: Cron jobs for a Dashboard
subtitle: Cron jobs for a Datapipeline on EC2
image: /img/SDC.jpg
bigimg: /img/MadeinAtl.jpg
tags: [EC2, Cron jobs, Dashboard]
---

My clients requested a simple dashboard to display and compare different generated forecasts. <br>
Typically, we use Streamlit to create dashboards because its **fast**, **simple** and **straight forward**.

I created a skeleton dashboard using streamlit but I wanted to created one to be deployed on an EC2 instance. 
There are lots of steps required and I will try to document those changes as well but lets focus on CronJobs and the EC2 instance.

1. Move datapipline to EC2 
2. Ensure that the datapipeline works!
3. Setup Cron job
4. Ensure Cron job works!

### Move Datapipeline to EC2

This bit is simple. <br>
We can move the python scripts by using WinSCP or we can use Git. <br>
I would use Git once I formalize the script and it all works well but for now WinSCP works great! <br>
Before moving the scripts, update all the filepaths and directory strings. <br>
Windows typically uses '\\' but Ubuntu uses '/' in filepaths. <br>
Changing these now will save you alot of headaches. <br>
Now, use WinSCP to drag and drop the Scripts to the linux directory. 

### Ensure that the datapipeline works!

Install packages and run <br>
Comb through your python scripts and find all of the packages utilized. <br>
Once you have a list of python packages, install all missing pacakges on the EC2 instance. <br>
Run the code, <br>
Something **will** break, <br>
Debug the issue, <br>
Apply liberally, <br>
Rinse and repeat.. <br>

### Setup Cron Job

Originally, I though I could use some kind of python package to run scheduled jobs but utlimately I felt that it was not really needed. 
In linux, we can use the CronTab, which is a job scheduler.   <br>
using CronTab, we can schedule jobs at very specific intervals. Hourly, daily, every few, etc.  <br>
Once you have a list of python packages, install all missing pacakges on the EC2 instance. <br>
Run the code, <br>
Something will break <br>
Debug the issue <br>
Apply liberally <br>
Rinse and repeat.. <br>

